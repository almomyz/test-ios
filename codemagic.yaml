workflows:
  react_native_workflow:
    name: React Native iOS Workflow
    max_build_duration: 60
    environment:
      vars:
        REACT_NATIVE_VERSION: 0.70.0
      node: 14.17.0
      xcode: 13.3
    scripts:
      - name: Install dependencies
        script: npm install
      - name: Bundle React Native code
        script: npx react-native bundle --platform ios --entry-file index.js --bundle-output ios/main.jsbundle --dev false
    artifacts:
      - build/ios/Release-iphoneos/*.app
      - build/ios/Release-iphoneos/*.ipa
    ios:
      distribution_method: app-store
      export_method: app-store
      provisioning_profiles:
        ios/YourApp.xcodeproj/YourApp: $YOUR_PROVISIONING_PROFILE
      code_signing:
        certificate_url: $CERTIFICATE_URL
        certificate_pass: $CERTIFICATE_PASSWORD
        provisioning_profile_url: $PROVISIONING_PROFILE_URL
    publishing:
      email:
        recipients:
          - abdu770213780@gmail.com
